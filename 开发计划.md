# 成绩分析管理系统 - 开发计划

## 📊 当前项目功能盘点

### ✅ 已实现功能

#### 1. 数据管理模块
- ✅ **学生管理**
  - 学生信息CRUD (姓名、学号、班级、年级、性别)
  - Excel批量导入/导出
  - 成绩录入与管理
  - 班级排名、年级排名

- ✅ **班级管理**
  - 班级统计列表 (人数、考试场数、性别比例)
  - 班级平均分、及格率、良好率、优秀率
  - 按年级和班级名称排序
  - 跨考试场次数据聚合

- ✅ **考试管理**
  - 多场考试数据支持
  - 成绩批量导入
  - 数据校验

#### 2. 分析评估模块
- ✅ **基础统计**
  - 学生总数、平均总分、最高分
  - 及格率、良好率、优秀率
  - 按科目统计

- ✅ **科目分析**
  - 科目切换查看
  - 各科成绩展示
  - 科目成绩排序

#### 3. 可视化模块
- ✅ **学生详情页**
  - 成绩概览 (总分、平均分、排名)
  - 雷达图展示各科成绩
  - 学生基本信息展示

- ✅ **数据展示**
  - 统计卡片
  - 表格展示
  - 列设置功能

#### 4. 系统管理模块
- ✅ **基础配置**
  - 科目分数线配置 (不及格/及格/良好/优秀)
  - 支持自定义各科分数区间

- ✅ **用户管理**
  - 会员管理 (VIP等级、到期时间)
  - 邀请码系统
  - 查询码管理

---

## 🎯 待开发功能清单

### 高优先级 (MVP必需功能)

#### 1. 对比分析功能 ⭐⭐⭐
- [ ] **班级间对比**
  - 多班级平均分对比柱状图
  - 多班级及格率对比
  - 班级排名

- [ ] **历次考试趋势**
  - 学生个人历次考试折线图
  - 班级平均分趋势图
  - 各科成绩变化趋势

#### 2. 进步分析功能 ⭐⭐⭐
- [ ] **个人进步轨迹**
  - 总分进步曲线
  - 单科进步分析
  - 进步幅度计算

- [ ] **进步/退步排行**
  - 进步学生TOP 10
  - 退步学生TOP 10
  - 进步幅度班级对比

#### 3. 深度分析功能 ⭐⭐⭐
- [ ] **学科强弱项识别**
  - 个人学科强弱分析
  - 班级学科强弱对比
  - 偏科学生识别

- [ ] **临界学生识别**
  - 接近及格线学生列表
  - 接近良好线学生列表
  - 接近优秀线学生列表
  - 退出良好/新晋良好学生

#### 4. 报告导出功能 ⭐⭐
- [ ] **PDF报告生成**
  - 班级成绩报告
  - 学生个人成长报告
  - 单次考试分析报告

- [ ] **Excel报告导出**
  - 自定义维度导出
  - 多维度数据透视表

### 中优先级

#### 5. 增强可视化 ⭐⭐
- [ ] **更多图表类型**
  - 分数段分布柱状图
  - 成绩等级饼图/环形图
  - 多班级对比雷达图

- [ ] **交互式图表**
  - 图表点击钻取
  - 数据筛选联动
  - 图表导出功能

#### 6. 考试管理增强 ⭐⭐
- [ ] **考试计划管理**
  - 创建考试计划
  - 考试时间管理
  - 参与班级配置

- [ ] **数据校验增强**
  - 分数超出满分提示
  - 异常数据标记
  - 数据完整性检查

#### 7. 权限管理 ⭐⭐
- [ ] **角色权限系统**
  - 班主任权限 (查看所管理班级)
  - 任课老师权限 (查看所教学科)
  - 家长权限 (仅查看自己孩子)

- [ ] **操作日志**
  - 数据修改记录
  - 操作审计
  - 登录日志

### 低优先级

#### 8. 智能分析 ⭐
- [ ] **预警系统**
  - 成绩下滑预警
  - 偏科预警
  - 波动异常预警

- [ ] **学习建议**
  - 基于成绩的学习建议
  - 薄弱科目推荐
  - 进步方向指导

#### 9. 移动端适配 ⭐
- [ ] 响应式布局优化
- [ ] 移动端专属界面
- [ ] 触摸操作优化

#### 10. 家校互动 ⭐
- [ ] 家长账号绑定
- [ ] 消息通知系统
- [ ] 教师评语功能

---

## 🚀 推荐开发顺序

### 第一阶段: 完善核心分析功能 (1-2周)

1. **历次考试趋势分析** (3天)
   - 后端API: 获取学生历次考试数据
   - 前端: 折线图展示总分/单科趋势
   - 班级平均分趋势对比

2. **进步分析功能** (3天)
   - 计算进步幅度算法
   - 进步/退步TOP 10排行榜
   - 个人进步轨迹可视化

3. **临界学生识别** (2天)
   - 临界学生筛选算法
   - 临界学生列表页面
   - 重点关注学生标记

4. **班级对比分析** (2天)
   - 多班级数据对比API
   - 对比柱状图/雷达图
   - 班级排名展示

### 第二阶段: 增强可视化与报告 (1周)

5. **图表增强** (3天)
   - 分数段分布图
   - 成绩等级饼图
   - 图表交互功能

6. **报告导出** (4天)
   - PDF报告模板设计
   - 报告生成引擎
   - Excel多维度导出

### 第三阶段: 权限与管理 (1周)

7. **权限系统** (4天)
   - 角色权限模型
   - 权限验证中间件
   - 数据访问控制

8. **考试管理增强** (3天)
   - 考试计划CRUD
   - 数据校验规则
   - 异常数据处理

### 第四阶段: 智能化与扩展 (可选)

9. **预警系统**
10. **移动端适配**
11. **家校互动**

---

## 📋 数据模型扩展建议

### 需要新增的表

#### 1. 考试表 (exams)
```sql
CREATE TABLE exams (
    id INTEGER PRIMARY KEY,
    exam_name VARCHAR(120) NOT NULL,
    exam_date DATE,
    grade_name VARCHAR(80),
    description TEXT,
    created_at DATETIME,
    updated_at DATETIME
);
```

#### 2. 班级表 (classes)
```sql
CREATE TABLE classes (
    id INTEGER PRIMARY KEY,
    class_name VARCHAR(80) NOT NULL,
    grade_name VARCHAR(80),
    teacher_id INTEGER,  -- 班主任ID
    capacity INTEGER,
    created_at DATETIME,
    updated_at DATETIME
);
```

#### 3. 教师表 (teachers)
```sql
CREATE TABLE teachers (
    id INTEGER PRIMARY KEY,
    name VARCHAR(80) NOT NULL,
    phone VARCHAR(20),
    subjects JSON,  -- 任教科目
    role VARCHAR(20),  -- 班主任/任课老师
    created_at DATETIME,
    updated_at DATETIME
);
```

### 需要修改的表

#### students表优化建议
- 添加 `parent_id` 字段关联家长
- 添加 `status` 字段 (在校/毕业/转出)
- 添加 `birthday` 字段
- 考虑将 `scores` 拆分为独立的成绩表

---

## 💡 技术实现建议

### 1. 图表库选择
- **推荐**: Chart.js 或 ECharts
- 理由: 轻量、功能强大、文档完善

### 2. PDF生成
- **推荐**: ReportLab (Python) 或 jsPDF (前端)
- 理由: 支持中文、模板灵活

### 3. 数据分析
- **推荐**: Pandas (如果需要复杂分析)
- 理由: 强大的数据处理能力

### 4. 权限管理
- **推荐**: FastAPI Depends + JWT
- 理由: 与现有架构兼容

---

## 🎨 界面优化建议

1. **Dashboard首页**
   - 添加快速入口卡片
   - 显示最近考试列表
   - 重点关注学生提醒

2. **数据可视化**
   - 统一图表配色方案
   - 添加数据加载动画
   - 支持图表全屏查看

3. **交互体验**
   - 添加操作确认提示
   - 优化表格分页
   - 添加数据筛选快捷方式

---

## 📝 下一步行动建议

### 立即可以开始的功能 (按优先级):

1. **历次考试趋势分析** - 最有价值,用户需求强烈
2. **进步分析功能** - 教师最关心的数据
3. **临界学生识别** - 帮助教师精准辅导
4. **班级对比分析** - 管理层需要的数据

### 需要讨论确认的:

1. 是否需要独立的考试表?
2. 权限系统的具体需求?
3. 报告模板的设计风格?
4. 是否需要移动端?

---

**建议**: 先完成第一阶段的4个核心功能,这些功能能够显著提升系统的实用价值,满足教师的核心需求。
